;/*FB_PKG_DELIM*/

__d("MWXIconDownload",["MWXSvgIcon","SVGIcon","cr:12400","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:12400")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWChatEncryptedBackupsDownloadIconSmall.react",["MWXIconDownload","MWXIconStrict.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(){var a=i(1),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=j.jsx(c("MWXIconStrict.react"),{icon:c("MWXIconDownload"),size:20}),a[0]=b):b=a[0];return b}g["default"]=a}),98);
__d("XCometEncryptedBackupsDYIControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/secure_storage/dyi/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("XMessengerDotComCometEncryptedBackupsDYIControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/secure_storage/dyi/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("EncryptedBackupsDYIMenuItem.react",["fbt","CurrentEnvironment","MWChatEncryptedBackupsAddonIcon.react","MWChatEncryptedBackupsDownloadIconSmall.react","MWXListCellPressable.react","MWXTextPairing.react","XCometEncryptedBackupsDYIControllerRouteBuilder","XMessengerDotComCometEncryptedBackupsDYIControllerRouteBuilder","mwPushToast","react","useCometRouterDispatcher"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).c,k=i;function a(a){var b=j(7),e=a.onBeforeDispatch,f=c("useCometRouterDispatcher")();a=c("CurrentEnvironment").facebookdotcom?c("XCometEncryptedBackupsDYIControllerRouteBuilder"):c("XMessengerDotComCometEncryptedBackupsDYIControllerRouteBuilder");b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a=a.buildUri({}).toString(),b[0]=a):a=b[0];var g=a;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(a=k.jsx(c("MWChatEncryptedBackupsAddonIcon.react"),{icon:k.jsx(c("MWChatEncryptedBackupsDownloadIconSmall.react"),{})}),b[1]=a):a=b[1];var i;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(i=h._("__JHASH__As1n3fG2K6h__JHASH__"),b[2]=i):i=b[2];b[3]===Symbol["for"]("react.memo_cache_sentinel")?(i=k.jsx(c("MWXTextPairing.react"),{headline:i,level:4,meta:h._("__JHASH__MxD72p3NYK6__JHASH__")}),b[3]=i):i=b[3];b[4]!==e||b[5]!==f?(a=k.jsx(c("MWXListCellPressable.react"),{addOnStart:a,addOnStartVerticalAlign:"center",content:i,onPress:function(){e==null?void 0:e();if(f==null){d("mwPushToast").mwPushErrorToast({body:h._("__JHASH__fayjLuWT5lZ__JHASH__")});return}f.go(g,{})}}),b[4]=e,b[5]=f,b[6]=a):a=b[6];return a}g["default"]=a}),226);
__d("FBIconBoxLockFilled24.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b;return i.jsxs((b=d("XPlatReactSVG")).Svg,babelHelpers["extends"]({viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[i.jsxs(b.Defs,{children:[i.jsx(b.Path,{d:"M0 932.5 162 932.5 162 0 0 0z"}),a.children]}),i.jsxs(b.G,{stroke:"none",strokeWidth:1,fillRule:"evenodd",children:[i.jsx(b.Mask,{transform:"translate(-444 -156) translate(354 156)",children:i.jsx(b.Use,{xlinkHref:"#a"})}),i.jsxs(b.G,{children:[i.jsx(b.Path,{d:"M112.695 0h-21.39C90.586 0 90 .586 90 1.306v2.888c0 .72.586 1.306 1.306 1.306h21.389c.72 0 1.305-.586 1.305-1.306V1.306c0-.72-.586-1.306-1.305-1.306M91.5 17.247c0 .967.811 1.753 1.808 1.753H98v-2.25c0-1.126.594-2.144 1.5-2.727V13.5c0-2.757 2.243-5 5-5s5 2.243 5 5v.523a3.258 3.258 0 0 1 1.5 2.727v2.22c.85-.143 1.5-.859 1.5-1.723V7h-21v10.247z",transform:"translate(-444 -156) translate(354 156) translate(0 1.5)"}),i.jsx(b.Path,{d:"M106.5 15h-4v-1.5c0-1.103.897-2 2-2s2 .897 2 2V15zm1.5.025V13.5c0-1.93-1.57-3.5-3.5-3.5s-3.5 1.57-3.5 3.5v1.525c-.846.123-1.5.845-1.5 1.725v4c0 .965.785 1.75 1.75 1.75h6.5c.965 0 1.75-.785 1.75-1.75v-4c0-.88-.654-1.602-1.5-1.725z",transform:"translate(-444 -156) translate(354 156) translate(0 1.5)"})]})]})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBIconDownloadFilled12.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsxs(d("XPlatReactSVG").G,{children:[i.jsx(d("XPlatReactSVG").Path,{d:"m101.18 938.694 3.259-3.258a.256.256 0 0 0-.182-.436h-1.382l-.714-5.278a.256.256 0 0 0-.254-.222h-1.803a.256.256 0 0 0-.253.221L99.125 935h-1.382a.256.256 0 0 0-.181.436l3.257 3.258c.1.1.262.1.362 0",transform:"translate(355 144.5)"}),i.jsx(d("XPlatReactSVG").Path,{fillRule:"nonzero",d:"M102.656 929.655a.756.756 0 0 0-.749-.655h-1.803a.756.756 0 0 0-.749.655l-.666 4.845h-.946a.756.756 0 0 0-.534 1.29l3.257 3.258a.756.756 0 0 0 1.068 0l3.258-3.258a.756.756 0 0 0-.535-1.29h-.945l-.656-4.845zm-4.026 5.277.495-.432h-.436l-.06.432zm-.298.568h.793a.5.5 0 0 0 .495-.432l.697-5.068h1.377l.686 5.067a.5.5 0 0 0 .495.433h.793L101 938.168l-2.668-2.668z",transform:"translate(355 144.5)"}),i.jsx(d("XPlatReactSVG").Path,{fillRule:"nonzero",d:"M96 939v.989c0 .558.453 1.011 1.011 1.011h7.978c.558 0 1.011-.453 1.011-1.011V939a.5.5 0 0 0-1 0v.989a.011.011 0 0 1-.011.011H97.01a.011.011 0 0 1-.011-.011V939a.5.5 0 0 0-1 0z",transform:"translate(355 144.5)"})]})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBIconKeyFilled12.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsxs(d("XPlatReactSVG").G,{children:[i.jsx(d("XPlatReactSVG").Path,{d:"M101.25 927.25a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3m7.744-9.5h-1.587a.257.257 0 0 0-.18.074l-3.677 3.678a3.5 3.5 0 1 0 2.2 3.248c0-.521-.117-1.015-.322-1.46l.822-.793v-.747h.75l.751-.751-.001-1.249h1l.5-.5v-1.244a.256.256 0 0 0-.256-.256",transform:"translate(352 156.5)"}),i.jsx(d("XPlatReactSVG").Path,{fillRule:"nonzero",d:"M107.407 917.5h1.587c.26 0 .476.197.503.45l.003.056v1.244a.25.25 0 0 1-.048.147l-.025.03-.5.5a.25.25 0 0 1-.138.07l-.039.003H108l.001.998a.25.25 0 0 1-.047.147l-.026.03-.751.752a.25.25 0 0 1-.138.07L107 922h-.5v.497a.25.25 0 0 1-.05.15l-.026.03-.698.673c.18.443.274.916.274 1.4a3.75 3.75 0 1 1-2.684-3.594l.171.055 3.564-3.564a.508.508 0 0 1 .29-.143l.067-.004h1.586-1.587zm1.587.5h-1.589l-3.678 3.679a.25.25 0 0 1-.27.055 3.25 3.25 0 1 0 2.043 3.016c0-.471-.103-.93-.299-1.355a.25.25 0 0 1 .024-.25l.03-.034.745-.72v-.641a.25.25 0 0 1 .205-.246l.045-.004h.646l.605-.605-.001-1.145a.25.25 0 0 1 .205-.246l.045-.004h.896l.354-.354v-1.14l-.002-.004-.004-.002zm-7.744 6a1.75 1.75 0 1 1 0 3.5 1.75 1.75 0 0 1 0-3.5zm0 .5a1.25 1.25 0 1 0 0 2.5 1.25 1.25 0 0 0 0-2.5zm5.75-3h-.104l-.073.073.177-.073z",transform:"translate(352 156.5)"})]})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBIconTrashFilled12.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsxs(d("XPlatReactSVG").G,{children:[i.jsx(d("XPlatReactSVG").Path,{fillRule:"nonzero",d:"m102.543 919 .853.854a.5.5 0 1 0 .708-.708l-.903-.902a.833.833 0 0 0-.589-.244h-1.224a.833.833 0 0 0-.59.244l-.902.902a.5.5 0 1 0 .708.708l.853-.854h1.086z",transform:"translate(354 155.5)"}),i.jsx(d("XPlatReactSVG").Path,{fillRule:"nonzero",d:"M106.5 919h-9a.5.5 0 0 0 0 1h9a.5.5 0 0 0 0-1z",transform:"translate(354 155.5)"}),i.jsx(d("XPlatReactSVG").Path,{d:"M104.5 928.023a.5.5 0 0 1-.5.477h-.023a.5.5 0 0 1-.477-.524l.236-5a.492.492 0 0 1 .523-.476.5.5 0 0 1 .476.523l-.236 5zm-2-.023a.5.5 0 1 1-1 0v-5a.5.5 0 1 1 1 0v5zm-2.477.5H100a.5.5 0 0 1-.5-.477l-.235-5a.5.5 0 0 1 .999-.047l.236 5a.5.5 0 0 1-.477.523zM106 921h-8a.5.5 0 0 0-.498.545l.647 7.118A1.462 1.462 0 0 0 99.613 930h4.774c.766 0 1.394-.575 1.464-1.337l.647-7.118A.501.501 0 0 0 106 921z",transform:"translate(354 155.5)"})]})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("LSMEBBackupDeletionSource",[],(function(a,b,c,d,e,f){a=Object.freeze({UNIT_TEST:-2,UNKNOWN:-1,USER_TRIGGERED_BACKUP_DELETION:1});f["default"]=a}),66);
__d("MWChatEncryptedBackupsAlohaSmall.react",["ix","MWXIcon.react","fbicon","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).c,k=i;function a(){var a=j(1),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=k.jsx(c("MWXIcon.react"),{icon:d("fbicon")._(h("728047"),20)}),a[0]=b):b=a[0];return b}g["default"]=a}),98);
__d("MWChatEncryptedBackupsAutoRestoreConsentToggle.react",["fbt","MWChatEncryptedBackupsAddonIcon.react","MWChatEncryptedBackupsAlohaSmall.react","MWEBUseLocalStorage","MWEncryptedBackupsLocalStorageEntryEnum","MWXListCell.react","MWXSwitch.react","MWXTextPairing.react","gkx","promiseDone","react","useAsyncReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;b.useCallback;var k=b.useState,l=b.c;function a(){var a=l(13),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=d("MWEBUseLocalStorage").mwEBGetIsLocalStorageEntryValuePresent(c("MWEncryptedBackupsLocalStorageEntryEnum").ENCRYPTED_BACKUPS_REMEMBER_BROWSER_CONSENT),a[0]=b):b=a[0];b=k(b);var e=b[0],g=b[1],i=c("useAsyncReStore")();a[1]!==e||a[2]!==i?(b=function(){var a=c("MWEncryptedBackupsLocalStorageEntryEnum").MW_EB_HAS_OPTED_OUT_OF_AUTO_RESTORE;!e?(g(!0),d("MWEBUseLocalStorage").mwEBCreateLocalStorageEntry(c("MWEncryptedBackupsLocalStorageEntryEnum").ENCRYPTED_BACKUPS_REMEMBER_BROWSER_CONSENT),c("gkx")("5229")&&c("promiseDone")(i,function(b){b.runInTransaction(function(b){return b.auto_restore_opt_out["delete"](a)},"readwrite","background",void 0,f.id+":48")})):(g(!1),d("MWEBUseLocalStorage").mwEBDeleteLocalStorageEntry(c("MWEncryptedBackupsLocalStorageEntryEnum").ENCRYPTED_BACKUPS_REMEMBER_BROWSER_CONSENT),c("gkx")("5229")&&c("promiseDone")(i,function(b){b.runInTransaction(function(b){return b.auto_restore_opt_out.upsert([a],{optOutKey:a,optOutValue:"true"})},"readwrite","background",void 0,f.id+":62")}))},a[1]=e,a[2]=i,a[3]=b):b=a[3];b=b;var m;a[4]===Symbol["for"]("react.memo_cache_sentinel")?(m=h._("__JHASH__DOLPKpi31Ks__JHASH__"),a[4]=m):m=a[4];a[5]!==b||a[6]!==e?(m=j.jsx(c("MWXSwitch.react"),{"aria-label":m,onValueChange:b,testid:void 0,value:e}),a[5]=b,a[6]=e,a[7]=m):m=a[7];a[8]===Symbol["for"]("react.memo_cache_sentinel")?(b=j.jsx(c("MWChatEncryptedBackupsAddonIcon.react"),{icon:j.jsx(c("MWChatEncryptedBackupsAlohaSmall.react"),{})}),a[8]=b):b=a[8];var n;a[9]===Symbol["for"]("react.memo_cache_sentinel")?(n=h._("__JHASH___9_KYeH44iK__JHASH__"),a[9]=n):n=a[9];a[10]===Symbol["for"]("react.memo_cache_sentinel")?(n=j.jsx(c("MWXTextPairing.react"),{headline:n,level:4,meta:h._("__JHASH__hgBo1kPvxc9__JHASH__")}),a[10]=n):n=a[10];a[11]!==m?(b=j.jsx(c("MWXListCell.react"),{addOnEnd:m,addOnStart:b,addOnStartVerticalAlign:"center",content:n,size:"medium"}),a[11]=m,a[12]=b):b=a[12];return b}g["default"]=a}),226);
__d("MWChatEncryptedBackupsComposeIconSmall.react",["MWXIconCompose","MWXIconStrict.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(){var a=i(1),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=j.jsx(c("MWXIconStrict.react"),{icon:c("MWXIconCompose"),size:20}),a[0]=b):b=a[0];return b}g["default"]=a}),98);
__d("MWXIconTrash",["MWXSvgIcon","SVGIcon","cr:12612","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:12612")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWChatEncryptedBackupsTrashIconSmall.react",["MWXIconStrict.react","MWXIconTrash","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(2);a=a.disabled;a=a===void 0?!1:a;a=a?"disabled":"primary";var d;b[0]!==a?(d=j.jsx(c("MWXIconStrict.react"),{color:a,icon:c("MWXIconTrash"),size:20}),b[0]=a,b[1]=d):d=b[1];return d}g["default"]=a}),98);
__d("MessengerTrash.svg.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs("svg",babelHelpers["extends"]({viewBox:"0 0 36 36",fill:"currentColor",width:"1em",height:"1em"},a,{children:[a.title!=null&&i.jsx("title",{children:a.title}),a.children!=null&&i.jsx("defs",{children:a.children}),i.jsx("path",{d:"M20.882 7c.685 0 1.312.387 1.618 1 .306.613.933 1 1.618 1H27a1 1 0 0 1 1 1v.5a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1V10a1 1 0 0 1 1-1h2.882c.685 0 1.312-.387 1.618-1 .306-.613.933-1 1.618-1h5.764zM10.601 13.5a1 1 0 0 0-.995 1.096l1.132 11.693A3 3 0 0 0 13.724 29h8.552a3 3 0 0 0 2.986-2.711l1.132-11.693a1 1 0 0 0-.995-1.096H10.6z"})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("useEncryptedBackupsDeleteBackupsDeferred",["ReQL","promiseDone","react","requireDeferred","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=i||d("react");b.useCallback;var j=b.useEffect,k=b.useRef,l=b.useState,m=b.c,n=c("requireDeferred")("MWEncryptedBackupsFetchBackupIds").__setRef("useEncryptedBackupsDeleteBackupsDeferred"),o=c("requireDeferred")("encryptedBackupsDeleteBackupsStoredProcedure").__setRef("useEncryptedBackupsDeleteBackupsDeferred");function a(a,b,e){var f=m(10),g=(h||(h=c("useReStore")))(),i=l(!1),p=i[0],q=i[1],r=k(a),s=k(b),t=k(e),u;f[0]!==a||f[1]!==b||f[2]!==e?(i=function(){r.current=a,s.current=b,t.current=e},u=[a,b,e],f[0]=a,f[1]=b,f[2]=e,f[3]=i,f[4]=u):(i=f[3],u=f[4]);j(i,u);f[5]!==g?(i=function(a){o.onReady(function(b){q(!0),r.current==null?void 0:r.current(),c("promiseDone")(b(g,a),function(a){var b=g.tables.secure_encrypted_backups_client_state.subscribe(function(){c("promiseDone")(d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(g.tables.secure_encrypted_backups_client_state)),function(a){if(a!=null)if(a.length===0){n.onReady(function(a){a=a.encryptedBackupsFetchBackupIds;c("promiseDone")(a(g)["finally"](function(){q(!1);return s.current==null?void 0:s.current()}))});return b()}else return;else{q(!1);t.current==null?void 0:t.current();return b()}})})},function(){q(!1);return t.current==null?void 0:t.current()})})},f[5]=g,f[6]=i):i=f[6];u=i;f[7]!==u||f[8]!==p?(i=[u,p],f[7]=u,f[8]=p,f[9]=i):i=f[9];return i}g["default"]=a}),98);
__d("MWChatEncryptedBackupsDeleteBackupMenuItem.react",["fbt","ix","BaseToasterStateManager","FBLogger","FDSIcon.react","LSMEBBackupDeletionSource","MWChatEncryptedBackupsAddonIcon.react","MWChatEncryptedBackupsChevronRightIconMedium.react","MWChatEncryptedBackupsLogging","MWChatEncryptedBackupsQPLEvents","MWChatEncryptedBackupsQPLSource.enum","MWChatEncryptedBackupsTrashIconSmall.react","MWEBUseLocalStorage","MWEncryptedBackupsLocalStorageEntryEnum","MWEncryptedBackupsSharedState","MWXColumnItem.react","MWXListCellPressable.react","MWXText.react","MessengerCheckmark.svg.react","MessengerTrash.svg.react","QPLUserFlow","SVGIcon","fbicon","gkx","mwPushToast","promiseDone","react","useEncryptedBackupsDeleteBackupsDeferred","useLabyrinthLogging","useMWXConfirmationDialog","useReStore"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l=k||(k=d("react"));b=k;var m=b.useRef,n=b.c,o=c("gkx")("23219"),p=c("BaseToasterStateManager").getInstance();function a(a){var b=n(16),e=a.isDeviceOnboarded,f=a.onConfirm;a=d("useLabyrinthLogging").useLabyrinthLoggingFlow();var g=a.startFlow,i=(j||(j=c("useReStore")))(),k=c("useMWXConfirmationDialog")();a=c("useEncryptedBackupsDeleteBackupsDeferred")(function(){p.current=q(p,e)},function(){p.current=s(p),d("MWChatEncryptedBackupsLogging").endSuccess({event:d("MWChatEncryptedBackupsQPLEvents").optOutQplEvent})},function(){c("FBLogger")("labyrinth_web").mustfix("delete backup sproc failed"),p.current=r(p,e),d("MWChatEncryptedBackupsLogging").endFailure({errorName:"opting_out_and_delete_failed",event:d("MWChatEncryptedBackupsQPLEvents").optOutQplEvent})});var o=a[0],p=m(null),t=m(!1),u=c("MWChatEncryptedBackupsQPLSource.enum").EB_SETTINGS;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a=l.jsx(c("MWChatEncryptedBackupsChevronRightIconMedium.react"),{}),b[0]=a):a=b[0];var v;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(v=l.jsx(c("MWChatEncryptedBackupsAddonIcon.react"),{icon:l.jsx(c("MWChatEncryptedBackupsTrashIconSmall.react"),{})}),b[1]=v):v=b[1];var w;b[2]!==e?(w=e?h._("__JHASH___vvtSccOSuA__JHASH__"):h._("__JHASH__nSPCjABuo0s__JHASH__"),b[2]=e,b[3]=w):w=b[3];var x;b[4]!==w?(x=l.jsx(c("MWXText.react"),{type:"headlineEmphasized4",children:w}),b[4]=w,b[5]=x):x=b[5];b[6]!==g||b[7]!==k||b[8]!==e||b[9]!==i||b[10]!==o||b[11]!==f?(w=function(){g({additionalAnnotations:{opt_out_flow:"opt_out_and_delete_backups"},event:d("MWChatEncryptedBackupsQPLEvents").optOutQplEvent,source:u}),k({body:e?h._("__JHASH__tvTkAePAmcZ__JHASH__"):h._("__JHASH__8P6Gw6M6_3v__JHASH__"),confirm:h._("__JHASH__EZ4XFu_Vdu0__JHASH__"),title:e?h._("__JHASH__UmHslSXSFN___JHASH__"):h._("__JHASH__kMWpn7Bh9hB__JHASH__")},function(){var a,b;c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").optOutQplEvent,"opt_out_and_delete_turn_off_click");t.current=!0;c("promiseDone")(d("MWEncryptedBackupsSharedState").upsertEBSharedStateEntry({db:i,stateKey:(b=c("MWEncryptedBackupsLocalStorageEntryEnum")).ENCRYPTED_BACKUPS_OPT_OUT}));(a=d("MWEBUseLocalStorage")).mwEBDeleteLocalStorageEntry(b.ENCRYPTED_BACKUPS_REMEMBER_BROWSER_CONSENT);a.mwEBDeleteLocalStorageEntry(b.MW_EB_HAS_RESTORED_IN_CURRENT_SESSION);a.mwEBDeleteLocalStorageEntry(b.MW_EB_HAS_RESTORED_IN_CURRENT_SESSION_2);a.mwEBDeleteLocalStorageEntry(b.MW_EB_HAS_SET_UP_IN_CURRENT_SESSION);o(c("LSMEBBackupDeletionSource").USER_TRIGGERED_BACKUP_DELETION);f()},function(){t.current||d("MWChatEncryptedBackupsLogging").cancelFlow({cancelEndPoint:"opt_out_and_delete_cancel_click",event:d("MWChatEncryptedBackupsQPLEvents").optOutQplEvent})})},b[6]=g,b[7]=k,b[8]=e,b[9]=i,b[10]=o,b[11]=f,b[12]=w):w=b[12];b[13]!==x||b[14]!==w?(a=l.jsx(c("MWXColumnItem.react"),{paddingHorizontal:0,testid:void 0,children:l.jsx(c("MWXListCellPressable.react"),{addOnEnd:a,addOnStart:v,content:x,onPress:w,testid:void 0})}),b[13]=x,b[14]=w,b[15]=a):a=b[15];return a}function q(a,b){t(a);a=60*60*24*1e3;return d("mwPushToast").mwPushToast({body:o?h._("__JHASH__x-jdJ-cc4G-__JHASH__"):void 0,icon:{comet:l.jsx(c("FDSIcon.react"),{icon:d("fbicon")._(i("483827"),24)}),mds:d("SVGIcon").svgIcon(c("MessengerTrash.svg.react"))},testid:"mw-chat-encrypted-backups-delete-secure-storage-in-progress-toast",title:b?h._("__JHASH__Cjz6IHGeajo__JHASH__"):h._("__JHASH__xQKq8xeyxNE__JHASH__")},a)}function r(a,b){t(a);return d("mwPushToast").mwPushErrorToast({body:b?h._("__JHASH__3cgxRx65buv__JHASH__"):h._("__JHASH__n4hKe9GgVEw__JHASH__")})}function s(a){t(a);return d("mwPushToast").mwPushToast({icon:{comet:l.jsx(c("FDSIcon.react"),{icon:d("fbicon")._(i("477815"),24)}),mds:d("SVGIcon").svgIcon(c("MessengerCheckmark.svg.react"))},testid:"mw-chat-encrypted-backups-delete-secure-storage-successful-toast",title:h._("__JHASH__wDuLmRyKP1g__JHASH__")})}function t(a){if(a.current==null)return;p.expire(a.current);a.current=null}g["default"]=a}),226);
__d("MWXIconKey",["MWXSvgIcon","SVGIcon","cr:12470","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:12470")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWChatEncryptedBackupsKeySmall.react",["MWXIconKey","MWXIconStrict.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(){var a=i(1),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=j.jsx(c("MWXIconStrict.react"),{icon:c("MWXIconKey"),size:20}),a[0]=b):b=a[0];return b}g["default"]=a}),98);
__d("MWChatEncryptedBackupsPinCodeSetup.react",["fbt","MWChatEncryptedBackupsAddonIcon.react","MWChatEncryptedBackupsChevronRightIconMedium.react","MWChatEncryptedBackupsDots3HorizontalIconSmall.react","MWChatEncryptedBackupsMobileRotateIconSmall.react","MWXListCellPressable.react","MWXText.react","MWXTextPairing.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).c,k=i;function a(a){var b=j(9),d=a.isPINCodeRegistered,e=a.onChange;a=a.onSetup;d=d===void 0?!1:d;var f;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(f=k.jsx(c("MWChatEncryptedBackupsChevronRightIconMedium.react"),{}),b[0]=f):f=b[0];var g;b[1]!==d?(g=d?k.jsx(c("MWChatEncryptedBackupsAddonIcon.react"),{icon:k.jsx(c("MWChatEncryptedBackupsMobileRotateIconSmall.react"),{})}):k.jsx(c("MWChatEncryptedBackupsAddonIcon.react"),{icon:k.jsx(c("MWChatEncryptedBackupsDots3HorizontalIconSmall.react"),{})}),b[1]=d,b[2]=g):g=b[2];var i;b[3]!==d?(i=d?k.jsx(c("MWXText.react"),{type:"headlineEmphasized4",children:h._("__JHASH__lQp_d5SCfBm__JHASH__")}):k.jsx(c("MWXTextPairing.react"),{headline:h._("__JHASH__x1FOUpL-ozs__JHASH__"),level:4,meta:h._("__JHASH__S3z74mjNcik__JHASH__")}),b[3]=d,b[4]=i):i=b[4];d=d?e:a;b[5]!==g||b[6]!==i||b[7]!==d?(e=k.jsx(c("MWXListCellPressable.react"),{addOnEnd:f,addOnStart:g,addOnStartVerticalAlign:"center",content:i,onPress:d,testid:void 0}),b[5]=g,b[6]=i,b[7]=d,b[8]=e):e=b[8];return e}g["default"]=a}),226);
__d("MWChatEncryptedBackupsRefreshIconSmall.react",["MWXIconStrict.react","cr:6051","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(){var a=i(1),d;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(d=j.jsx(c("MWXIconStrict.react"),{icon:b("cr:6051"),size:20}),a[0]=d):d=a[0];return d}g["default"]=a}),98);
__d("MWXIconSecureStorage",["MWXSvgIcon","SVGIcon","cr:12568","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:12568")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWChatEncryptedBackupsSecureStorageIconSmall.react",["MWXIconSecureStorage","MWXIconStrict.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(){var a=i(1),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=j.jsx(c("MWXIconStrict.react"),{icon:c("MWXIconSecureStorage"),size:20}),a[0]=b):b=a[0];return b}g["default"]=a}),98);
__d("MWChatEncryptedBackupsSettingsAboutMessageSync_xfbEncryptedBackup.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWChatEncryptedBackupsSettingsAboutMessageSync_xfbEncryptedBackup",selections:[{alias:null,args:null,kind:"ScalarField",name:"last_sync_time",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"backup_creation_time",storageKey:null}],type:"XFBEncryptedBackup",abstractKey:null};e.exports=a}),null);
__d("MWChatEncryptedBackupsSettingsAboutMessageSync.react",["fbt","BaseTimestamp.react","CometRelay","FBLogger","MWChatEncryptedBackupsAddonIcon.react","MWChatEncryptedBackupsComposeIconSmall.react","MWChatEncryptedBackupsRefreshIconSmall.react","MWChatEncryptedBackupsSettingsAboutMessageSync_xfbEncryptedBackup.graphql","MWXListCell.react","MWXText.react","MWXTextPairing.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));e=j;e.useMemo;var l=e.c,m=function(){c("FBLogger")("labyrinth_web").mustfix("Failed to retrieve backup metadata");return[h._("__JHASH__uTyHWlp8lio__JHASH__"),null]},n=-1;function a(a){var e=l(26),f=a.backupState;a=a.encryptedBackup;a=d("CometRelay").useFragment(i!==void 0?i:i=b("MWChatEncryptedBackupsSettingsAboutMessageSync_xfbEncryptedBackup.graphql"),a);a==null?void 0:a.backup_creation_time;a==null?void 0:a.last_sync_time;bb0:{if(f===2){e[0]===Symbol["for"]("react.memo_cache_sentinel")?(f=[h._("__JHASH__dzpGWAtRhF1__JHASH__"),null],e[0]=f):f=e[0];f=f;break bb0}var g=a==null?void 0:a.backup_creation_time,j=a==null?void 0:a.last_sync_time;if((a==null?void 0:a.last_sync_time)===n||g==null||j==null){e[1]===Symbol["for"]("react.memo_cache_sentinel")?(a=m(),e[1]=a):a=e[1];f=a;break bb0}a=j*1e3;e[2]!==a?(j=new Date(a),e[2]=a,e[3]=j):j=e[3];e[4]!==j?(a=k.jsx(c("BaseTimestamp.react"),{date:j},"lastSyncTime"),e[4]=j,e[5]=a):a=e[5];j=g*1e3;e[6]!==j?(g=new Date(j),e[6]=j,e[7]=g):g=e[7];e[8]!==g?(j=k.jsx(c("BaseTimestamp.react"),{date:g},"creationTime"),e[8]=g,e[9]=j):j=e[9];e[10]!==a||e[11]!==j?(g=[a,j],e[10]=a,e[11]=j,e[12]=g):g=e[12];f=g}a=f;j=a[0];g=a[1];e[13]===Symbol["for"]("react.memo_cache_sentinel")?(f="xwib8y2 xurb0ha x1sxyh0 xyamay9",e[13]=f):f=e[13];e[14]===Symbol["for"]("react.memo_cache_sentinel")?(a=k.jsx("div",{className:f,children:k.jsx(c("MWXText.react"),{color:"tertiary",type:"entityHeaderMeta3",children:h._("__JHASH__SUrf49TudPb__JHASH__")})}),e[14]=a):a=e[14];e[15]===Symbol["for"]("react.memo_cache_sentinel")?(f=k.jsx(c("MWChatEncryptedBackupsAddonIcon.react"),{icon:k.jsx(c("MWChatEncryptedBackupsRefreshIconSmall.react"),{})}),e[15]=f):f=e[15];var o;e[16]===Symbol["for"]("react.memo_cache_sentinel")?(o=h._("__JHASH__qv_CgunU6m7__JHASH__"),e[16]=o):o=e[16];e[17]!==j?(f=k.jsx(c("MWXListCell.react"),{addOnStart:f,addOnStartVerticalAlign:"center",content:k.jsx(c("MWXTextPairing.react"),{headline:o,level:4,meta:j}),testid:void 0}),e[17]=j,e[18]=f):f=e[18];e[19]===Symbol["for"]("react.memo_cache_sentinel")?(o=k.jsx(c("MWChatEncryptedBackupsAddonIcon.react"),{icon:k.jsx(c("MWChatEncryptedBackupsComposeIconSmall.react"),{})}),e[19]=o):o=e[19];e[20]===Symbol["for"]("react.memo_cache_sentinel")?(j=h._("__JHASH__0uUnddx05jd__JHASH__"),e[20]=j):j=e[20];e[21]!==g?(o=k.jsx(c("MWXListCell.react"),{addOnStart:o,addOnStartVerticalAlign:"center",content:k.jsx(c("MWXTextPairing.react"),{headline:j,level:4,meta:g}),testid:void 0}),e[21]=g,e[22]=o):o=e[22];e[23]!==f||e[24]!==o?(j=k.jsxs(k.Fragment,{children:[a,f,o]}),e[23]=f,e[24]=o,e[25]=j):j=e[25];return j}g["default"]=a}),226);
__d("MWChatEncryptedBackupsSettingsDialog.react",["fbt","CometRelay","CometRelayEnvironmentProvider","FBLogger","MWChatEncryptedBackupsLogging","MWChatEncryptedBackupsQPLEvents","MWChatEncryptedBackupsQPLSource.enum","MWChatEncryptedBackupsSettingsDialogQuery.graphql","MWEBFlowSourceContextProvider.react","MWEBHasSeenAutoRestoreNoticeContextProvider.react","MWEBVestaUserInfoContext.react","MWEBVirtualDevicesContextProvider.react","MWXMultiStepDialog.react","MWXMultiStepDialogHeader.react","deferredLoadComponent","react","requireDeferredForDisplay","useMWChatEncryptedBackupsVestaUserInfo","useMWEncryptedBackupsGetVirtualDevicesPreloaded","useOnRoutableDialogClose"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));e=j;e.useMemo;var l=e.c,m=c("deferredLoadComponent")(c("requireDeferredForDisplay")("MWChatEncryptedBackupsSettingsDialogStep.react").__setRef("MWChatEncryptedBackupsSettingsDialog.react"));function n(a){var b=l(34),e,f;b[0]!==a?(f=a.data,e=babelHelpers.objectWithoutPropertiesLoose(a,["data"]),b[0]=a,b[1]=e,b[2]=f):(e=b[1],f=b[2]);a=e;e=a.onClose;a=a.pushPageFromParent;var g=c("useOnRoutableDialogClose")(),i=(e=e)!=null?e:g;if(f==null)throw c("FBLogger")("labyrinth_web").mustfixThrow("Cannot fetch fbid_based_auth_layer_vesta_get_user_info for backup");b[3]===Symbol["for"]("react.memo_cache_sentinel")?(e=h._("__JHASH___5KowebkvTt__JHASH__"),b[3]=e):e=b[3];g=e;e=(e=f.viewer.messenger_default_encrypted_backup)==null?void 0:e.vesta_user_info;var j;b[4]!==e?(j={vestaGetUserInfoResponse$key:e},b[4]=e,b[5]=j):j=b[5];e=c("useMWChatEncryptedBackupsVestaUserInfo")(j);b[6]!==f.xfb_backup?(j={encryptedBackup:f.xfb_backup},b[6]=f.xfb_backup,b[7]=j):j=b[7];j=c("useMWEncryptedBackupsGetVirtualDevicesPreloaded")(j);j=j.getVirtualDevices;var n;b[8]!==j?(n=j(),b[8]=j,b[9]=n):n=b[9];j=n;n=j.offlineDevicesCount;j=j.vestaClientID;var o;b[10]!==e.attemptsRemaining||b[11]!==e.loginTimeoutRemainingSecs?(o={attemptsRemaining:e.attemptsRemaining,loginTimeoutRemainingSecs:e.loginTimeoutRemainingSecs,vestaClientID:null},b[10]=e.attemptsRemaining,b[11]=e.loginTimeoutRemainingSecs,b[12]=o):o=b[12];e=o;o=e;b[13]!==i?(e=function(){d("MWChatEncryptedBackupsLogging").cancelFlow({cancelEndPoint:"dialog_x_button",event:d("MWChatEncryptedBackupsQPLEvents").virtualDeviceRevocationQplEvent}),d("MWChatEncryptedBackupsLogging").closeDialogCancelFlow({event:d("MWChatEncryptedBackupsQPLEvents").backupSetupQplEvent,onClose:i})},b[13]=i,b[14]=e):e=b[14];e=e;var p;b[15]!==i||b[16]!==e||b[17]!==f?(p={onClose:i,onCloseDialogCancelFlow:e,query:f},b[15]=i,b[16]=e,b[17]=f,b[18]=p):p=b[18];var q=p;p=(p=(p=f.viewer.encrypted_backup)==null?void 0:p.has_seen_eb_auto_restore_notice)!=null?p:!1;f=(f=(f=f.xfb_backup)==null?void 0:f.has_otc_eligible_devices)!=null?f:void 0;b[19]!==a||b[20]!==q||b[21]!==e?(g=a!=null?k.jsxs(k.Fragment,{children:[k.jsx(c("MWXMultiStepDialogHeader.react"),{title:g,withCloseButton:!1,withoutBackButton:!0}),k.jsx(m,babelHelpers["extends"]({},q,{pushPage:a}))]}):k.jsx(c("MWXMultiStepDialog.react"),{disableClosingWithMask:!0,onClose:e,size:"small",title:g,withCloseButton:!0,children:function(a){return k.jsx(m,babelHelpers["extends"]({},q,{pushPage:a}))}}),b[19]=a,b[20]=q,b[21]=e,b[22]=g):g=b[22];b[23]!==f||b[24]!==n||b[25]!==j||b[26]!==g?(a=k.jsx(c("MWEBVirtualDevicesContextProvider.react"),{hasOtcEligibleDevicesInitialValue:f,offlineDevicesCountInitialValue:n,vestaClientIDInitialValue:j,children:g}),b[23]=f,b[24]=n,b[25]=j,b[26]=g,b[27]=a):a=b[27];b[28]!==p||b[29]!==a?(e=k.jsx(c("MWEBFlowSourceContextProvider.react"),{source:c("MWChatEncryptedBackupsQPLSource.enum").EB_SETTINGS,children:k.jsx(c("MWEBHasSeenAutoRestoreNoticeContextProvider.react"),{hasSeenNotice:p,children:a})}),b[28]=p,b[29]=a,b[30]=e):e=b[30];b[31]!==o||b[32]!==e?(f=k.jsx(c("CometRelayEnvironmentProvider"),{children:k.jsx(d("MWEBVestaUserInfoContext.react").MWEBVestaUserInfoContext.Provider,{value:o,children:e})}),b[31]=o,b[32]=e,b[33]=f):f=b[33];return f}function a(a){var c=l(3),e=a.props;a=a.queries;a=d("CometRelay").usePreloadedQuery(i!==void 0?i:i=b("MWChatEncryptedBackupsSettingsDialogQuery.graphql"),a.queryReference);var f;c[0]!==a||c[1]!==e?(f=k.jsx(n,babelHelpers["extends"]({data:a},e)),c[0]=a,c[1]=e,c[2]=f):f=c[2];return f}g["default"]=a}),226);
__d("MWChatEncryptedBackupsSettingsDialogStep_query.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"soapEncryptedBackupEnabled"}],kind:"Fragment",metadata:null,name:"MWChatEncryptedBackupsSettingsDialogStep_query",selections:[{args:null,kind:"FragmentSpread",name:"useEncryptedBackupsProcessStatePreLoaded_query"},{condition:"soapEncryptedBackupEnabled",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"encrypted_backup_encryption_management_delegator_id",storageKey:null}],type:"User",abstractKey:null}],storageKey:null}],storageKey:null}]},{alias:null,args:null,concreteType:"XFBEncryptedBackup",kind:"LinkedField",name:"xfb_backup",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"MWChatEncryptedBackupsSettingsAboutMessageSync_xfbEncryptedBackup"}],storageKey:null},{args:null,kind:"FragmentSpread",name:"MWChatEncryptedBackupsSwitchProfileMenuItem_query"}],type:"Query",abstractKey:null};e.exports=a}),null);
__d("MWChatEncryptedBackupsSettingsHelperText.react",["fbt","MWXLink.react","MWXListCell.react","MWXText.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).c,k=i,l="https://www.facebook.com/help/messenger-app/820525008940780";function a(){var a=j(2),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=h._("__JHASH__X75fDKzx0pz__JHASH__"),a[0]=b):b=a[0];a[1]===Symbol["for"]("react.memo_cache_sentinel")?(b=k.jsx(c("MWXListCell.react"),{content:k.jsxs(c("MWXText.react"),{color:"secondary",type:"body4",children:[b,k.jsx(c("MWXLink.react"),{color_DEPRECATED:"blueLink",display_DEPRECATED:"inline",href:l,rel:"noreferrer",target:"_blank",children:k.jsxs("b",{children:[" ",h._("__JHASH__9Qno4YqfpQv__JHASH__")]})})]})}),a[1]=b):b=a[1];return b}g["default"]=a}),226);
__d("MWChatEncryptedBackupsSettingsManageSecureStorageSection.react",["fbt","EncryptedBackupsDYIMenuItem.react","MWXLink.react","MWXText.react","cr:6738","cr:6739","cr:8615","cr:8616","cr:8617","cr:8619","gkx","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).c,k=i,l=(f=(e=b("cr:8615"))!=null?e:b("cr:8616"))!=null?f:b("cr:6738"),m=(e=(d=b("cr:8617"))!=null?d:b("cr:8619"))!=null?e:b("cr:6739"),n="https://www.facebook.com/help/messenger-app/440669631343608";function a(a){var b=j(22),d=a.backupState,e=a.closeDialogCancelFlow,f=a.isDelegatingEncryption,g=a.onClose,i=a.onOptOut;a=a.onTurnOn;var o=d===3,p;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(p="xwib8y2 xurb0ha x1sxyh0 xyamay9",b[0]=p):p=b[0];b[1]===Symbol["for"]("react.memo_cache_sentinel")?(p=k.jsx("div",{className:p,children:k.jsx(c("MWXText.react"),{color:"tertiary",type:"entityHeaderMeta3",children:h._("__JHASH__q9C9AXmyw_4__JHASH__")})}),b[1]=p):p=b[1];var q;b[2]!==e?(q=c("gkx")("3953")&&k.jsx(c("EncryptedBackupsDYIMenuItem.react"),{onBeforeDispatch:e}),b[2]=e,b[3]=q):q=b[3];b[4]!==f||b[5]!==o||b[6]!==d||b[7]!==i||b[8]!==a?(e=m&&!f&&o?k.jsx(m,{isDisabled:d===-1,isOn:o,onTurnOff:i,onTurnOn:a}):null,b[4]=f,b[5]=o,b[6]=d,b[7]=i,b[8]=a,b[9]=e):e=b[9];b[10]!==f||b[11]!==o||b[12]!==g?(d=l&&!f&&k.jsx(l,{isDeviceOnboarded:o,onConfirm:g}),b[10]=f,b[11]=o,b[12]=g,b[13]=d):d=b[13];b[14]!==o||b[15]!==f?(i=o&&!f&&k.jsx("div",{className:"xwib8y2 xurb0ha x1sxyh0 xyamay9",children:k.jsxs(c("MWXText.react"),{color:"tertiary",type:"body4",children:[h._("__JHASH__IFp-N61OuJi__JHASH__"),k.jsx(c("MWXLink.react"),{color_DEPRECATED:"blueLink",display_DEPRECATED:"inline",href:n,rel:"noreferrer",target:"_blank",children:k.jsxs("b",{children:[" ",h._("__JHASH__9Qno4YqfpQv__JHASH__")]})})]})}),b[14]=o,b[15]=f,b[16]=i):i=b[16];b[17]!==q||b[18]!==e||b[19]!==d||b[20]!==i?(a=k.jsxs(k.Fragment,{children:[p,q,e,d,i]}),b[17]=q,b[18]=e,b[19]=d,b[20]=i,b[21]=a):a=b[21];return a}g["default"]=a}),226);
__d("MWChatEncryptedBackupsSettingsManageSecurityMethodsListItem.react",["fbt","MWChatEncryptedBackupsAddonIcon.react","MWChatEncryptedBackupsChevronRightIconMedium.react","MWChatEncryptedBackupsKeySmall.react","MWXListCellPressable.react","MWXTextPairing.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).c,k=i;function a(a){var b=j(6);a=a.onPress;var d;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(d=k.jsx(c("MWChatEncryptedBackupsChevronRightIconMedium.react"),{}),b[0]=d):d=b[0];var e;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(e=k.jsx(c("MWChatEncryptedBackupsAddonIcon.react"),{icon:k.jsx(c("MWChatEncryptedBackupsKeySmall.react"),{})}),b[1]=e):e=b[1];var f;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(f=h._("__JHASH__d06SOXYvcll__JHASH__"),b[2]=f):f=b[2];b[3]===Symbol["for"]("react.memo_cache_sentinel")?(f=k.jsx(c("MWXTextPairing.react"),{headline:f,level:4,meta:h._("__JHASH__Pz8JHvqfInf__JHASH__")}),b[3]=f):f=b[3];b[4]!==a?(d=k.jsx(c("MWXListCellPressable.react"),{addOnEnd:d,addOnStart:e,addOnStartVerticalAlign:"center",content:f,onPress:a,testid:void 0}),b[4]=a,b[5]=d):d=b[5];return d}g["default"]=a}),226);
__d("MWChatEncryptedBackupsSettingsSecureMethodsSection.react",["fbt","MWChatEncryptedBackupsAutoRestoreConsentToggle.react","MWChatEncryptedBackupsPinCodeSetup.react","MWChatEncryptedBackupsSettingsManageSecurityMethodsListItem.react","MWXText.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).c,k=i;function a(a){var b=j(16),d=a.isDelegatingEncryption,e=a.isPINCodeEnabled,f=a.isPINCodeRegistered,g=a.onPinChange,i=a.onPinSetup;a=a.onPushSecureMethods;var l;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(l="xwib8y2 xurb0ha x1sxyh0 xyamay9",b[0]=l):l=b[0];b[1]===Symbol["for"]("react.memo_cache_sentinel")?(l=k.jsx("div",{className:l,children:k.jsx(c("MWXText.react"),{color:"tertiary",type:"entityHeaderMeta3",children:h._("__JHASH__RC49XJwk0A4__JHASH__")})}),b[1]=l):l=b[1];l=l;var m;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(m="xwib8y2 xurb0ha x1sxyh0 xyamay9",b[2]=m):m=b[2];b[3]===Symbol["for"]("react.memo_cache_sentinel")?(m=k.jsx("div",{className:m,children:k.jsx(c("MWXText.react"),{color:"tertiary",type:"body4",children:h._("__JHASH__7kjja-37C-U__JHASH__")})}),b[3]=m):m=b[3];m=m;if(d){b[4]===Symbol["for"]("react.memo_cache_sentinel")?(d=k.jsxs(k.Fragment,{children:[l,m,k.jsx(c("MWChatEncryptedBackupsAutoRestoreConsentToggle.react"),{})]}),b[4]=d):d=b[4];return d}b[5]!==e||b[6]!==f||b[7]!==g||b[8]!==i?(d=e&&k.jsx(c("MWChatEncryptedBackupsPinCodeSetup.react"),{isPINCodeRegistered:f,onChange:g,onSetup:i}),b[5]=e,b[6]=f,b[7]=g,b[8]=i,b[9]=d):d=b[9];e=d;b[10]!==a?(f=k.jsx(c("MWChatEncryptedBackupsSettingsManageSecurityMethodsListItem.react"),{onPress:a}),b[10]=a,b[11]=f):f=b[11];b[12]===Symbol["for"]("react.memo_cache_sentinel")?(g=k.jsx(c("MWChatEncryptedBackupsAutoRestoreConsentToggle.react"),{}),b[12]=g):g=b[12];b[13]!==e||b[14]!==f?(i=k.jsxs(k.Fragment,{children:[l,m,e,f,g]}),b[13]=e,b[14]=f,b[15]=i):i=b[15];return i}g["default"]=a}),226);
__d("MWChatEncryptedBackupsSettingsToggle.react",["fbt","MWChatEncryptedBackupsAddonIcon.react","MWChatEncryptedBackupsChevronRightIconMedium.react","MWChatEncryptedBackupsSecureStorageIconSmall.react","MWXListCellPressable.react","MWXText.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).c,k=i;function a(a){var b=j(14),d=a.isDisabled,e=a.isOn,f=a.onTurnOff,g=a.onTurnOn;a=d===void 0?!1:d;var i=e===void 0?!1:e;b[0]!==i||b[1]!==f||b[2]!==g?(d=function(){i?f():g()},b[0]=i,b[1]=f,b[2]=g,b[3]=d):d=b[3];e=d;b[4]===Symbol["for"]("react.memo_cache_sentinel")?(d=k.jsx(c("MWChatEncryptedBackupsChevronRightIconMedium.react"),{}),b[4]=d):d=b[4];var l;b[5]===Symbol["for"]("react.memo_cache_sentinel")?(l=k.jsx(c("MWChatEncryptedBackupsAddonIcon.react"),{icon:k.jsx(c("MWChatEncryptedBackupsSecureStorageIconSmall.react"),{})}),b[5]=l):l=b[5];var m;b[6]!==i?(m=i?h._("__JHASH__8YLQqbfZyc9__JHASH__"):h._("__JHASH__romFzIac6VQ__JHASH__"),b[6]=i,b[7]=m):m=b[7];var n;b[8]!==m?(n=k.jsx(c("MWXText.react"),{type:"headlineEmphasized4",children:m}),b[8]=m,b[9]=n):n=b[9];b[10]!==n||b[11]!==a||b[12]!==e?(m=k.jsx(c("MWXListCellPressable.react"),{addOnEnd:d,addOnEndVerticalAlign:"center",addOnStart:l,content:n,disabled:a,onPress:e,testid:void 0}),b[10]=n,b[11]=a,b[12]=e,b[13]=m):m=b[13];return m}g["default"]=a}),226);
__d("PushMWChatEncryptedBackupsSecureMethods",["MWChatEncryptedBackupsLogging","MWChatEncryptedBackupsQPLEvents","deferredLoadComponent","react","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=c("deferredLoadComponent")(c("requireDeferred")("MWChatEncryptedBackupsSecureMethodsDialog.react").__setRef("PushMWChatEncryptedBackupsSecureMethods"));function a(a){var b=a.onPushRegenerateAccessCodePage,c=a.pinChangeInProgress,e=a.pushPage,f=a.setPinChangeInProgress;a=a.startFlow;a();e(function(a){return i.jsx(j,{onPushRegenerateAccessCodePage:b,pinChangeInProgress:c,pushPage:e,setPinChangeInProgress:f})},{onBack:function(a){return function(){d("MWChatEncryptedBackupsLogging").cancelFlow({cancelEndPoint:"BACK_TO_SETTINGS_CLICK",event:d("MWChatEncryptedBackupsQPLEvents").virtualDeviceRevocationQplEvent}),a()}}})}g.onPushMWChatEncryptedBackupsSecureMethods=a}),98);
__d("useEncryptedBackupsOptOutOfBackupDeferred.react",["ReQL","promiseDone","react","requireDeferred","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=i||d("react");b.useCallback;var j=b.useEffect,k=b.useRef,l=b.c,m=c("requireDeferred")("MWEncryptedBackupsFetchBackupIds").__setRef("useEncryptedBackupsOptOutOfBackupDeferred.react"),n=c("requireDeferred")("encryptedBackupsOptOutOfBackup").__setRef("useEncryptedBackupsOptOutOfBackupDeferred.react");function a(a,b,e){var f=l(7),g=(h||(h=c("useReStore")))(),i=k(a),o=k(b),p=k(e),q,r;f[0]!==a||f[1]!==b||f[2]!==e?(q=function(){i.current=a,o.current=b,p.current=e},r=[a,b,e],f[0]=a,f[1]=b,f[2]=e,f[3]=q,f[4]=r):(q=f[3],r=f[4]);j(q,r);f[5]!==g?(q=function(){n.onReady(function(a){i.current==null?void 0:i.current(),c("promiseDone")(a.optOutOfBackupStoredProcedure(g),function(a){var b=g.tables.secure_encrypted_backups_client_state.subscribe(function(){c("promiseDone")(d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(g.tables.secure_encrypted_backups_client_state)),function(a){if(a!=null)if(a.length===0){m.onReady(function(a){a=a.encryptedBackupsFetchBackupIds;c("promiseDone")(a(g)["finally"](function(){return o.current==null?void 0:o.current()}))});return b()}else return;else{p.current==null?void 0:p.current();return b()}})})},function(){return p.current==null?void 0:p.current()})})},f[5]=g,f[6]=q):q=f[6];return q}g["default"]=a}),98);
__d("useMWChatEncryptedBackupsOptOut",["fbt","ix","BaseToasterStateManager","FBLogger","FDSIcon.react","ImageIconSource","MWChatEncryptedBackupsLogging","MWChatEncryptedBackupsQPLEvents","MWChatEncryptedBackupsQPLSource.enum","MWEBUseLocalStorage","MWEncryptedBackupsLocalStorageEntryEnum","MWEncryptedBackupsSharedState","QPLUserFlow","fbicon","gkx","mwPushToast","promiseDone","react","useEncryptedBackupsOptOutOfBackupDeferred.react","useLabyrinthLogging","useMWXConfirmationDialog","useReStore"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l=k||(k=d("react"));b=k;var m=b.useRef,n=b.c,o=c("BaseToasterStateManager").getInstance(),p=c("gkx")("23219");function a(a){var b=n(4),e=a.onStart;a=d("useLabyrinthLogging").useLabyrinthLoggingFlow();var f=a.startFlow,g=c("useMWXConfirmationDialog")(),i=(j||(j=c("useReStore")))(),k=c("useEncryptedBackupsOptOutOfBackupDeferred.react")(function(){e(),l.current=q(l)},function(){var a;d("MWEBUseLocalStorage").mwEBDeleteLocalStorageEntry((a=c("MWEncryptedBackupsLocalStorageEntryEnum")).ENCRYPTED_BACKUPS_REMEMBER_BROWSER_CONSENT);d("MWEBUseLocalStorage").mwEBDeleteLocalStorageEntry(a.MW_EB_HAS_RESTORED_IN_CURRENT_SESSION);d("MWEBUseLocalStorage").mwEBDeleteLocalStorageEntry(a.MW_EB_HAS_RESTORED_IN_CURRENT_SESSION_2);c("promiseDone")(d("MWEncryptedBackupsSharedState").upsertEBSharedStateEntry({db:i,stateKey:a.ENCRYPTED_BACKUPS_OPT_OUT}));l.current=s(l);d("MWChatEncryptedBackupsLogging").endSuccess({event:d("MWChatEncryptedBackupsQPLEvents").optOutQplEvent})},function(){c("FBLogger")("labyrinth_web").mustfix("delete backup sproc failed"),l.current=r(l),d("MWChatEncryptedBackupsLogging").endFailure({errorName:"opting_out_failed",event:d("MWChatEncryptedBackupsQPLEvents").optOutQplEvent})}),l=m(null),o=m(!1),p=c("MWChatEncryptedBackupsQPLSource.enum").EB_SETTINGS;b[0]!==f||b[1]!==g||b[2]!==k?(a=function(){return function(){f({event:d("MWChatEncryptedBackupsQPLEvents").optOutQplEvent,source:p}),g({body:h._("__JHASH__p0Gxqpo5GvG__JHASH__"),confirm:h._("__JHASH__XYMj0Ke8mcN__JHASH__"),title:h._("__JHASH__tHnVG1XG6ql__JHASH__")},function(){c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").optOutQplEvent,"opt_out_turn_off_click"),o.current=!0,k(),d("MWEBUseLocalStorage").mwEBCreateLocalStorageEntry(c("MWEncryptedBackupsLocalStorageEntryEnum").ENCRYPTED_BACKUPS_TURN_OFF_SECURE_STORAGE)},function(){o.current||d("MWChatEncryptedBackupsLogging").cancelFlow({cancelEndPoint:"opt_out_cancel_click",event:d("MWChatEncryptedBackupsQPLEvents").optOutQplEvent})})}},b[0]=f,b[1]=g,b[2]=k,b[3]=a):a=b[3];return a}function q(a){t(a);a=60*60*24*1e3;c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").optOutQplEvent,"opt_out_turn_off_begin_toast");return d("mwPushToast").mwPushToast({body:p?h._("__JHASH__FkdrzglzIg1__JHASH__"):void 0,icon:{comet:l.jsx(c("FDSIcon.react"),{icon:d("fbicon")._(i("287128"),24)}),mds:new(c("ImageIconSource"))(i("266849"),32,32)},title:h._("__JHASH__QmYft47ttCZ__JHASH__")},a)}function r(a){t(a);c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").optOutQplEvent,"opt_out_turn_off_failed_toast");return d("mwPushToast").mwPushErrorToast({body:h._("__JHASH__ZHIMzVGxxGc__JHASH__")})}function s(a){t(a);c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").optOutQplEvent,"opt_out_turn_off_success_toast");return d("mwPushToast").mwPushToast({icon:{comet:l.jsx(c("FDSIcon.react"),{icon:d("fbicon")._(i("287128"),24)}),mds:new(c("ImageIconSource"))(i("266849"),32,32)},testid:"mw-chat-encrypted-backups-opt-out-of-secure-storage-successful-toast",title:h._("__JHASH__5CfP-JSLq3b__JHASH__")})}function t(a){if(a.current==null)return;o.expire(a.current);a.current=null}g["default"]=a}),226);
__d("useMWChatEncryptedBackupsSettingSecureStorageWithRC",["fbt","ix","BaseToasterStateManager","FBLogger","FDSIcon.react","ImageIconSource","MAWEncryptedBackupsInitializeBackupDeferred","MWChatEncryptedBackupsLogging","MWChatEncryptedBackupsQPLEvents","MWEncryptedBackupsLocalStorageEntryEnum","MessengerCheckmark.svg.react","QPLUserFlow","SVGIcon","fbicon","gkx","mwPushToast","promiseDone","react","requireDeferred","useMWEBFlowSourceContext","useReStore"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l=k||(k=d("react"));b=k;var m=b.useRef,n=b.c,o=c("requireDeferred")("MWEncryptedBackupsSharedState").__setRef("useMWChatEncryptedBackupsSettingSecureStorageWithRC"),p=c("gkx")("23219");function a(a){var b=n(9),e=a.setupType,f=(j||(j=c("useReStore")))(),g=c("useMWEBFlowSourceContext")();b[0]!==e?(a=function(){d("MWChatEncryptedBackupsLogging").endFailure({annotations:{string:{setup_type:e}},errorName:"failed_backup_initialization",event:d("MWChatEncryptedBackupsQPLEvents").backupSetupQplEvent})},b[0]=e,b[1]=a):a=b[1];var h=a;b[2]!==e?(a=function(){d("MWChatEncryptedBackupsLogging").endSuccess({annotations:{string:{setup_type:e}},event:d("MWChatEncryptedBackupsQPLEvents").backupSetupQplEvent})},b[2]=e,b[3]=a):a=b[3];var i=a,k=m(null);b[4]!==f||b[5]!==i||b[6]!==h||b[7]!==g?(a=function(a){d("MAWEncryptedBackupsInitializeBackupDeferred").initializeBackupDeferred({db:f,onBackupCreationSuccess:function(){k.current=s(k),i(),o.onReady(function(a){a=a.upsertEBSharedStateEntry;c("promiseDone")(a({db:f,stateKey:c("MWEncryptedBackupsLocalStorageEntryEnum").ENCRYPTED_BACKUPS_ONBOARDED_SUCCESSFULLY}))})},onFailure:function(){k.current=t(k),h(),a==null?void 0:a.onError==null?void 0:a.onError(),c("FBLogger")("labyrinth_web").mustfix("Intitilize backup sproc failed")},onStart:function(){k.current=r(k),a==null?void 0:a.onStart==null?void 0:a.onStart(),c("QPLUserFlow").addAnnotations(d("MWChatEncryptedBackupsQPLEvents").backupSetupQplEvent,{string:{source:g()}})}})},b[4]=f,b[5]=i,b[6]=h,b[7]=g,b[8]=a):a=b[8];return a}var q=c("BaseToasterStateManager").getInstance();function r(a){u(a);a=60*60*24*1e3;c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").backupSetupQplEvent,"secure_storage_begin_setup_toast");return d("mwPushToast").mwPushToast({body:p?h._("__JHASH__AlhjAjNITTl__JHASH__"):void 0,icon:{comet:l.jsx(c("FDSIcon.react"),{icon:d("fbicon")._(i("287128"),24)}),mds:new(c("ImageIconSource"))(i("266849"),32,32)},title:h._("__JHASH__gOlcdfGLsHz__JHASH__")},a)}function s(a){u(a);c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").backupSetupQplEvent,"secure_storage_turned_on_success_toast");return d("mwPushToast").mwPushToast({icon:{comet:l.jsx(c("FDSIcon.react"),{icon:d("fbicon")._(i("477815"),24)}),mds:d("SVGIcon").svgIcon(c("MessengerCheckmark.svg.react"))},title:h._("__JHASH__evKtQJviPFc__JHASH__")})}function t(a){u(a);c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").backupSetupQplEvent,"secure_storage_setup_failed_toast");return d("mwPushToast").mwPushErrorToast({body:h._("__JHASH__sCKpxgFFSg___JHASH__")})}function u(a){if(a.current==null)return;q.expire(a.current);a.current=null}g["default"]=a}),226);
__d("useMWEBOnboardingOptOutConfirmationDialogMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="7405158242919025"}),null);
__d("useMWEBOnboardingOptOutConfirmationDialogMutation.graphql",["useMWEBOnboardingOptOutConfirmationDialogMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useMWEBOnboardingOptOutConfirmationDialogMutation",selections:[{alias:null,args:null,concreteType:"XFBMwEbOnboardingOptOutResponsePayload",kind:"LinkedField",name:"xfb_mw_eb_onboarding_opt_out",plural:!1,selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"MWEBOnboardingJewelVariantChooser_viewer"},{args:null,kind:"FragmentSpread",name:"MWEBOnboardingVariantInterstitialDialogChooser_viewer"},{args:null,kind:"FragmentSpread",name:"MWEBWebOnboardingThreadListQP_viewer"}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"useMWEBOnboardingOptOutConfirmationDialogMutation",selections:[{alias:null,args:null,concreteType:"XFBMwEbOnboardingOptOutResponsePayload",kind:"LinkedField",name:"xfb_mw_eb_onboarding_opt_out",plural:!1,selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"encrypted_backups_onboarding_softblock_variant",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("useMWEBOnboardingOptOutConfirmationDialogMutation_facebookRelayOperation"),metadata:{},name:"useMWEBOnboardingOptOutConfirmationDialogMutation",operationKind:"mutation",text:null}};e.exports=a}),null);
__d("useMWEBOnboardingOptOutConfirmationDialog",["fbt","CometRelay","MWChatEncryptedBackupsLogging","MWChatEncryptedBackupsQPLEvents","MWEBOnboardingDismissOnboardingUpsellsInRelay","MWEncryptedBackupsLocalStorageEntryEnum","MWEncryptedBackupsSharedState","QPLUserFlow","promiseDone","react","useMWEBOnboardingOptOutConfirmationDialogMutation.graphql","useMWXConfirmationDialog","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k;e=k||d("react");e.useCallback;var l=e.c;function a(a){var e=l(7),f=a.closeDialog,g=(j||(j=c("useReStore")))(),k=c("useMWXConfirmationDialog")(),m=d("CometRelay").useRelayEnvironment();e[0]===Symbol["for"]("react.memo_cache_sentinel")?(a=i!==void 0?i:i=b("useMWEBOnboardingOptOutConfirmationDialogMutation.graphql"),e[0]=a):a=e[0];a=d("CometRelay").useMutation(a);var n=a[0];e[1]!==k||e[2]!==n||e[3]!==g||e[4]!==m||e[5]!==f?(a=function(){k({body:h._("__JHASH__i1I2n6m_A9M__JHASH__"),cancel:h._("__JHASH__Cmdr4mRWEAv__JHASH__"),confirm:h._("__JHASH__8CC_99SnR_Z__JHASH__"),title:h._("__JHASH__QOtgPA9jHGA__JHASH__")},function(){n({variables:{}}),c("promiseDone")(d("MWEncryptedBackupsSharedState").upsertEBSharedStateEntry({db:g,stateKey:c("MWEncryptedBackupsLocalStorageEntryEnum").ENCRYPTED_BACKUPS_OPT_OUT})),c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").backupSetupQplEvent,"ONBOARDING_EB_OPT_OUT_CONFIRM_CLICK"),d("MWChatEncryptedBackupsLogging").endSuccess({annotations:{bool:{has_opted_out:!0},string:{setup_type:"device_only"}},event:d("MWChatEncryptedBackupsQPLEvents").backupSetupQplEvent}),d("MWEBOnboardingDismissOnboardingUpsellsInRelay").dismissOnboardingUpsellsInRelayStore({environment:m,upsellsToDismiss:"all"}),f()})},e[1]=k,e[2]=n,e[3]=g,e[4]=m,e[5]=f,e[6]=a):a=e[6];return a}g["default"]=a}),226);
__d("useMWChatEncryptedBackupsSetup",["fbt","FBLogger","MWChatEncryptedBackupsLogging","MWChatEncryptedBackupsQPLEvents","MWEncryptedBackupsCreateExtraVirtualDeviceDeferred","MWEncryptedBackupsGenerateRecoveryCode","QPLUserFlow","asyncToGeneratorRuntime","deferredLoadComponent","mwPushToast","promiseDone","react","requireDeferred","useMWChatEncryptedBackupsSettingSecureStorageWithRC","useMWEBOnboardingOptOutConfirmationDialog","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));e=j;var l=e.useRef,m=e.c,n=c("requireDeferred")("MWChatEncryptedBackupsClearGeneratedRecoveryCode").__setRef("useMWChatEncryptedBackupsSetup"),o=c("requireDeferred")("MWEBPushPinCodeSetupFlow").__setRef("useMWChatEncryptedBackupsSetup"),p=c("deferredLoadComponent")(c("requireDeferred")("MWChatEncryptedBackupsSetupAdvancedOptions.react").__setRef("useMWChatEncryptedBackupsSetup")),q=c("deferredLoadComponent")(c("requireDeferred")("MWChatEncryptedBackupsSetupOptOutDialog.react").__setRef("useMWChatEncryptedBackupsSetup")),r=c("deferredLoadComponent")(c("requireDeferred")("MWChatEncryptedBackupsSetupCodeSaveStep.react").__setRef("useMWChatEncryptedBackupsSetup"));function a(a){var e=m(27),f=a.backupExists,g=a.onClose,j=f===void 0?!1:f;e[0]!==g?(a={closeDialog:g},e[0]=g,e[1]=a):a=e[1];var s=c("useMWEBOnboardingOptOutConfirmationDialog")(a),t=(i||(i=c("useReStore")))(),u=l();e[2]!==t?(f=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){try{var b=(yield d("MWEncryptedBackupsGenerateRecoveryCode").encryptedBackupsGenerateRecoveryCode({db:t,virtualDeviceType:1}));b=b.recoveryCode;a(b)}catch(b){a=b;c("FBLogger")("labyrinth_web").mustfix("Error when generating a recovery code",a)}});return function(b){return a.apply(this,arguments)}}(),e[2]=t,e[3]=f):f=e[3];var v=f;e[4]===Symbol["for"]("react.memo_cache_sentinel")?(a={setupType:"recovery_code"},e[4]=a):a=e[4];var w=c("useMWChatEncryptedBackupsSettingSecureStorageWithRC")(a);e[5]!==v||e[6]!==w||e[7]!==g||e[8]!==t?(f=function(a){return function(){c("promiseDone")(v(function(b){a(function(){return k.jsx(r,{code:b,isRegenerateCode:!1,onSaveCode:function(a){c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").backupSetupQplEvent,"recovery_code_confirmation_popup_click"),w({onStart:function(){return g()}})}})},{onCloseButtonPress:function(a){return function(){n.onReady(function(a){a=a.clearGeneratedRecoveryCode;c("promiseDone")(a(t))}),a()}}})}))}},e[5]=v,e[6]=w,e[7]=g,e[8]=t,e[9]=f):f=e[9];var x=f;e[10]!==v||e[11]!==t?(a=function(a){return function(){c("promiseDone")(v(function(b){a(function(a){var e=a.onReturn;return k.jsx(r,{code:b,isRegenerateCode:!0,onSaveCode:function(a){d("MWEncryptedBackupsCreateExtraVirtualDeviceDeferred").encryptedBackupsCreateExtraVirtualDeviceDeferred({db:t,onFailure:function(){c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").backupSetupQplEvent,"recovery_code_generation_failed_toast"),d("MWChatEncryptedBackupsLogging").endFailure({annotations:{string:{setup_type:"regenerate_recovery_code"}},errorName:"failed_backup_initialization",event:d("MWChatEncryptedBackupsQPLEvents").backupSetupQplEvent}),e(),d("mwPushToast").mwPushErrorToast({body:h._("__JHASH__JPh8bg8h9mb__JHASH__")})},onSuccess:function(){c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").backupSetupQplEvent,"recovery_code_generation_success_toast"),a(),d("MWChatEncryptedBackupsLogging").endSuccess({annotations:{string:{setup_type:"regenerate_recovery_code"}},event:d("MWChatEncryptedBackupsQPLEvents").backupSetupQplEvent})}})}})},{onCloseButtonPress:function(a){return function(){a()}}})}))}},e[10]=v,e[11]=t,e[12]=a):a=e[12];f=a;e[13]!==s?(a=function(a){return function(){a(function(){return k.jsx(q,{onNext:function(){return s()}})})}},e[13]=s,e[14]=a):a=e[14];var y=a;e[15]!==j||e[16]!==g?(a=function(a){var b=a.pushPage,c=a.qplEventName,d=a.shouldCancelFlowOnBack;return function(){o.onReady(function(a){a=a.pushPinCodeSetupFlow;a({backupExists:j,onInitialPush:function(a){a=a.onReturn;u.current==null&&(u.current=a)},onStart:function(){g()},pushPage:b,qplEventName:c,shouldCancelFlowOnBack:d})})}},e[15]=j,e[16]=g,e[17]=a):a=e[17];var z=a;e[18]!==x||e[19]!==y||e[20]!==z?(a=function(a){return function(){var b=x(a),c=y(a),e=z({pushPage:a,qplEventName:d("MWChatEncryptedBackupsQPLEvents").backupSetupQplEvent,shouldCancelFlowOnBack:!1});a(function(a){a=a.onReturn;u.current=a;return k.jsx(p,{onOptOut:c,onSetupPinCode:e,onSetupRecoveryCode:b})})}},e[18]=x,e[19]=y,e[20]=z,e[21]=a):a=e[21];a=a;var A;e[22]!==a||e[23]!==f||e[24]!==x||e[25]!==z?(A={onPushAdvancedOptionsPage:a,onPushRegenerateAccessCodePage:f,onPushSaveCodePage:x,onPushSetupPinCodePage:z},e[22]=a,e[23]=f,e[24]=x,e[25]=z,e[26]=A):A=e[26];return A}g["default"]=a}),226);
__d("MWChatEncryptedBackupsSettingsDialogStep.react",["CometRelay","MAWPinCodeGating","MWChatEncryptedBackupsQPLEvents","MWChatEncryptedBackupsQPLSource.enum","MWChatEncryptedBackupsSettingsDialogStep_query.graphql","MWChatEncryptedBackupsSettingsHelperText.react","MWChatEncryptedBackupsSettingsManageSecureStorageSection.react","MWChatEncryptedBackupsSettingsSecureMethodsSection.react","MWChatEncryptedBackupsSettingsToggle.react","MWEBEntrypointsKillswitch.enum","MWEBVirtualDevicesContext.react","MWEncryptedBackupsRetrieveQplLoggingAnnotations","MWXColumn.react","MWXColumnItem.react","MWXDivider.react","PushMWChatEncryptedBackupsSecureMethods","cr:6735","cr:7689","cr:8613","cr:8614","gkx","promiseDone","react","requireDeferred","useEncryptedBackupsProcessStatePreLoaded","useHasOTCEligibleDevices","useLabyrinthLogging","useMWChatEncryptedBackupsOptOut","useMWChatEncryptedBackupsPinCodeChangeFlow","useMWChatEncryptedBackupsRestore","useMWChatEncryptedBackupsSetup","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||(j=d("react"));e=j;var l=e.useRef,m=e.c,n=c("requireDeferred")("mwEBCheckIfEBKeysExistInDisk").__setRef("MWChatEncryptedBackupsSettingsDialogStep.react"),o=(e=(f=b("cr:8613"))!=null?f:b("cr:8614"))!=null?e:b("cr:6735"),p=c("gkx")("3952")||c("gkx")("3953");function a(a){var e=m(77),f=a.onClose,g=a.onCloseDialogCancelFlow,j=a.pushPage;a=a.query;a=d("CometRelay").useFragment(h!==void 0?h:h=b("MWChatEncryptedBackupsSettingsDialogStep_query.graphql"),a);var r;e[0]!==a?(r={entrypoint:c("MWEBEntrypointsKillswitch.enum").EB_SETTINGS,query:a},e[0]=a,e[1]=r):r=e[1];r=c("useEncryptedBackupsProcessStatePreLoaded")(r);var s=d("useLabyrinthLogging").useLabyrinthLoggingFlow(),t=s.startFlow,u=c("MWChatEncryptedBackupsQPLSource.enum").EB_SETTINGS;s=d("MWEBVirtualDevicesContext.react").useMWEBVirtualDevices();s=s.virtualDeviceInfo;var v=s.vestaClientID!=null,w=(i||(i=c("useReStore")))(),x=r===3,y=r===3||r===4,z;e[2]!==y||e[3]!==v||e[4]!==f?(z={backupExists:y,isPINCodeRegistered:v,onClose:f},e[2]=y,e[3]=v,e[4]=f,e[5]=z):z=e[5];z=c("useMWChatEncryptedBackupsSetup")(z);var A=z.onPushAdvancedOptionsPage,B=z.onPushRegenerateAccessCodePage;z=z.onPushSetupPinCodePage;var C=c("useHasOTCEligibleDevices")(),D=l(!1),E;e[6]!==v||e[7]!==s.vestaClientID?(E=d("MAWPinCodeGating").isPinCodeEnabled()&&v?s.vestaClientID:null,e[6]=v,e[7]=s.vestaClientID,e[8]=E):E=e[8];var F;e[9]!==w||e[10]!==t?(F=function(){d("MWEncryptedBackupsRetrieveQplLoggingAnnotations").encryptedBackupsRetrieveQplLoggingAnnotations({db:w,onFetch:function(a){var b=a.ebsmWiped,e=a.firstUpsellTime,f=a.hasEbKeysLocally,g=a.hasEBSM,h=a.hasPDB,i=a.hasUserRestoredBefore;a=a.hasUserRestoredBeforeTemp;t({additionalAnnotations:{eb_session_identifier:e,ebsm_wiped:b,has_eb_keys_locally:f,has_ebsm:g,has_pdb:h,has_user_restored_before:i,has_user_restored_before_temp:a,restore_upsell_first_impression_time:e},event:d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,source:u});D.current===!1&&(D.current=!0,c("promiseDone")(n.load(),function(a){return a(f)}))}})},e[9]=w,e[10]=t,e[11]=F):F=e[11];var G;e[12]!==E||e[13]!==C||e[14]!==s.offlineDevicesCount||e[15]!==f||e[16]!==F?(G={clientID:E,doesUserHaveOtcEligibleDevices:C,offlineDevicesCount:s.offlineDevicesCount,onClose:f,onComplete:f,startFlow:F},e[12]=E,e[13]=C,e[14]=s.offlineDevicesCount,e[15]=f,e[16]=F,e[17]=G):G=e[17];E=d("useMWChatEncryptedBackupsRestore").useMWChatEncryptedBackupsRestore(G);e[18]!==f?(C={onStart:f},e[18]=f,e[19]=C):C=e[19];s=c("useMWChatEncryptedBackupsOptOut")(C);F=(C=(F=a.viewer)==null?void 0:(G=F.actor)==null?void 0:G.encrypted_backup_encryption_management_delegator_id)!=null?C:null;G=F!==null;e[20]===Symbol["for"]("react.memo_cache_sentinel")?(C=k.jsx(c("MWXColumnItem.react"),{children:k.jsx(c("MWXDivider.react"),{})}),e[20]=C):C=e[20];C=C;var H;e[21]!==f?(H={hasBackButton:!0,onConfirmClick:q,onStart:f},e[21]=f,e[22]=H):H=e[22];var I=c("useMWChatEncryptedBackupsPinCodeChangeFlow")(H);e[23]!==A||e[24]!==j?(H=A(j),e[23]=A,e[24]=j,e[25]=H):H=e[25];var J=H;e[26]!==j||e[27]!==z?(A=z({pushPage:j,qplEventName:d("MWChatEncryptedBackupsQPLEvents").backupSetupQplEvent,shouldCancelFlowOnBack:!0}),e[26]=j,e[27]=z,e[28]=A):A=e[28];var K=A;e[29]!==s?(H=s(),e[29]=s,e[30]=H):H=e[30];z=H;e[31]!==r||e[32]!==t||e[33]!==J||e[34]!==E||e[35]!==j?(A=r===2?function(){return t({event:d("MWChatEncryptedBackupsQPLEvents").backupSetupQplEvent,source:u})||J()}:E(j),e[31]=r,e[32]=t,e[33]=J,e[34]=E,e[35]=j,e[36]=A):A=e[36];s=A;var L=l(!1);e[37]!==x||e[38]!==F||e[39]!==y||e[40]!==g||e[41]!==a||e[42]!==r||e[43]!==z||e[44]!==s?(H=!x&&k.jsxs(c("MWXColumnItem.react"),{children:[b("cr:7689")&&F!==null&&!y?k.jsx(b("cr:7689"),{closeDialogCancelFlow:g,hasBackup:y,query:a,targetProfileID:F}):k.jsx(c("MWChatEncryptedBackupsSettingsToggle.react"),{isDisabled:!p||r===-1,isOn:x,onTurnOff:z,onTurnOn:s}),k.jsx(c("MWChatEncryptedBackupsSettingsHelperText.react"),{})]}),e[37]=x,e[38]=F,e[39]=y,e[40]=g,e[41]=a,e[42]=r,e[43]=z,e[44]=s,e[45]=H):H=e[45];E=!x&&y&&C;e[46]!==y||e[47]!==r||e[48]!==a.xfb_backup?(A=y&&o&&k.jsx(c("MWXColumnItem.react"),{children:k.jsx(o,{backupState:r,encryptedBackup:a.xfb_backup})}),e[46]=y,e[47]=r,e[48]=a.xfb_backup,e[49]=A):A=e[49];var M=x&&C,N;e[50]!==x||e[51]!==t||e[52]!==I||e[53]!==j||e[54]!==K||e[55]!==B||e[56]!==G||e[57]!==v?(N=x&&k.jsx(c("MWXColumnItem.react"),{children:k.jsx(c("MWChatEncryptedBackupsSettingsSecureMethodsSection.react"),{isDelegatingEncryption:G,isPINCodeEnabled:d("MAWPinCodeGating").isPinCodeEnabled(),isPINCodeRegistered:v,onPinChange:function(){return t({event:d("MWChatEncryptedBackupsQPLEvents").pinCodeChangeQplEvent,source:u})||I(j)},onPinSetup:function(){return t({event:d("MWChatEncryptedBackupsQPLEvents").backupSetupQplEvent,source:u})||K()},onPushSecureMethods:function(){return d("PushMWChatEncryptedBackupsSecureMethods").onPushMWChatEncryptedBackupsSecureMethods({onPushRegenerateAccessCodePage:B,pinChangeInProgress:L,pushPage:j,setPinChangeInProgress:function(a){L.current=a},startFlow:function(){return t({event:d("MWChatEncryptedBackupsQPLEvents").virtualDeviceRevocationQplEvent})}})}})}),e[50]=x,e[51]=t,e[52]=I,e[53]=j,e[54]=K,e[55]=B,e[56]=G,e[57]=v,e[58]=N):N=e[58];x=y&&C;e[59]!==y||e[60]!==r||e[61]!==g||e[62]!==G||e[63]!==f||e[64]!==z||e[65]!==s||e[66]!==F||e[67]!==a?(v=y&&k.jsxs(c("MWXColumnItem.react"),{children:[k.jsx(c("MWChatEncryptedBackupsSettingsManageSecureStorageSection.react"),{backupState:r,closeDialogCancelFlow:g,isDelegatingEncryption:G,onClose:f,onOptOut:z,onTurnOn:s}),b("cr:7689")&&F!==null&&k.jsx(b("cr:7689"),{closeDialogCancelFlow:g,hasBackup:y,query:a,targetProfileID:F})]}),e[59]=y,e[60]=r,e[61]=g,e[62]=G,e[63]=f,e[64]=z,e[65]=s,e[66]=F,e[67]=a,e[68]=v):v=e[68];e[69]!==H||e[70]!==E||e[71]!==A||e[72]!==M||e[73]!==N||e[74]!==x||e[75]!==v?(C=k.jsxs(c("MWXColumn.react"),{paddingHorizontal:8,paddingVertical:12,spacing:4,children:[H,E,A,M,N,x,v]}),e[69]=H,e[70]=E,e[71]=A,e[72]=M,e[73]=N,e[74]=x,e[75]=v,e[76]=C):C=e[76];return C}function q(){}g["default"]=a}),98);