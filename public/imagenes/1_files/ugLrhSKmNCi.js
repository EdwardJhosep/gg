;/*FB_PKG_DELIM*/

__d("useMAWBulkMediaValidationResult",["I64","LSIntEnum","MAWBridgeSendAndReceive","MAWDbMedia","MAWStateContext.react","MessagingAttachmentType","WAHashUtils","promiseDone","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;b=h||d("react");var k=b.useContext,l=b.useEffect;b.useMemo;var m=b.c;function n(a){var b=m(4),e=k(d("MAWStateContext.react").MAWDispatchContext),f,g;b[0]!==a||b[1]!==e?(f=function(){a.forEach(function(a){var b=a.attachment;a=a.mediaRenderQpl;var f=b.attachmentFbid,g=isNaN(f);b=g?d("MAWBridgeSendAndReceive").sendAndReceive("backend","getMediaValidationResultByPlainTextHash",{plaintextHash:d("WAHashUtils").stringToPlaintextHash(f),qplInstanceKey:a==null?void 0:a.getInstanceKey()}):d("MAWBridgeSendAndReceive").sendAndReceive("backend","getMediaValidationResultByMediaId",{mediaId:d("MAWDbMedia").convertNumberToMediaId(parseInt(f,10)),qplInstanceKey:a==null?void 0:a.getInstanceKey()});c("promiseDone")(b.then(function(a){a!=null&&e({tag:"SetMediaValidatedResult",value:{key:g?d("WAHashUtils").stringToPlaintextHash(f):d("MAWDbMedia").convertNumberToMediaId(parseInt(f,10)),validatedResult:a}})}),function(){})})},g=[a,e],b[0]=a,b[1]=e,b[2]=f,b[3]=g):(f=b[2],g=b[3]);l(f,g)}function a(a){var b=m(9),e=d("MAWStateContext.react").useMAWSelector(o);n(a);var f,g;b[0]!==a||b[1]!==e?(f=function(){for(var b=a,f=Array.isArray(b),g=0,b=f?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(f){if(g>=b.length)break;h=b[g++]}else{g=b.next();if(g.done)break;h=g.value}h=h;var k=h.attachment;h=h.mediaRenderQpl;var l=(i||(i=d("I64"))).equal(k.attachmentType,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").AUDIO))||(i||(i=d("I64"))).equal(k.attachmentType,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO));if(!l)continue;l=Object.prototype.hasOwnProperty.call(e,k.attachmentFbid);if(!l)continue;k=(l=e[k.attachmentFbid])==null?void 0:l.validationResult;if(k==null)continue;h==null?void 0:h.addAnnotations({"int":{audio_avg_bits_per_second:k.audioAvgBitsPerSecond,audio_number_of_channels:k.audioNumberOfChannels,audio_sampling_rate:k.audioSamplingRate,video_avg_bits_per_second:k.videoAvgBitsPerSecond,video_calculated_fps:k.videoCalculatedFps,video_duration:k.videoDuration,video_height:k.videoHeight,video_nominal_fps:k.videoNominalFps,video_width:k.videoWidth},string:{audio_stream_type:k.audioStreamType,validated_mime_type:k.mimeType,video_stream_type:k.videoStreamType}})}},g=[a,e],b[0]=a,b[1]=e,b[2]=f,b[3]=g):(f=b[2],g=b[3]);l(f,g);if(b[4]!==e||b[5]!==a){b[7]!==e?(f=function(a){a=a.attachment;var b=(i||(i=d("I64"))).equal(a.attachmentType,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").AUDIO))||(i||(i=d("I64"))).equal(a.attachmentType,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO));if(!b)return null;b=Object.prototype.hasOwnProperty.call(e,a.attachmentFbid);if(!b)return null;a=(b=e[a.attachmentFbid])==null?void 0:b.validationResult;return a==null?null:a},b[7]=e,b[8]=f):f=b[8];g=a.map(f);b[4]=e;b[5]=a;b[6]=g}else g=b[6];f=g;return f}function o(a){return a.mediaDownloadStatus}g["default"]=a}),98);
__d("useMAWMediaValidationResultState",["react","useMAWBulkMediaValidationResult"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useMemo;var i=b.c;function a(a,b,d){var e=i(4);if(e[0]!==a||e[1]!==d||e[2]!==b){var f;f=a!=null?[{attachment:a,mediaRenderQpl:b,statusKey:(f=d)!=null?f:a.attachmentFbid}]:[];e[0]=a;e[1]=d;e[2]=b;e[3]=f}else f=e[3];a=f;d=a;b=c("useMAWBulkMediaValidationResult")(d);return b.length>0?b[0]:null}g["default"]=a}),98);